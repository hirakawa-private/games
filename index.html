<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>石なでゲーム - やり込み版</title>
    <style>
        body { text-align: center; font-family: sans-serif; background: #f0f0f0; padding: 50px; }
        #stone { width: 150px; margin: 30px auto; transition: transform 0.2s; }
        #count, #level, #high { font-size: 1.5em; margin: 10px; }
        img { width: 100%; height: auto; border-radius: 50%; }
    </style>
</head>
<body>
    <h1>石をなでてください</h1>
    <div id="stone"><img src="stone.png" alt="石の画像"></div>
    <p>なでた回数: <span id="count">0</span></p>
    <p>現在レベル: <span id="level">1</span></p>
    <p>最高記録: <span id="high">0</span></p>

    <script>
        let count = 0;
        const stone = document.getElementById("stone");
        const counter = document.getElementById("count");
        const levelDisplay = document.getElementById("level");
        const highDisplay = document.getElementById("high");

        let highScore = localStorage.getItem("highScore") || 0;
        highDisplay.textContent = highScore;

        function updateLevel(cnt) {
            let level = Math.floor(cnt / 10) + 1;
            levelDisplay.textContent = level;
            let newSize = 150 + (level - 1) * 10;
            stone.style.width = newSize + "px";
        }

        stone.addEventListener("click", () => {
            count++;
            counter.textContent = count;
            updateLevel(count);
            if (count > highScore) {
                highScore = count;
                localStorage.setItem("highScore", highScore);
                highDisplay.textContent = highScore;
            }
            stone.style.transform = "scale(1.1)";
            setTimeout(() => stone.style.transform = "scale(1)", 100);
        });
    </script>
</body>
</html>

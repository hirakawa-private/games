<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>çŸ³ãªã§ã‚²ãƒ¼ãƒ </title>
<style>
body { font-family: sans-serif; background: #eef; margin: 0; padding: 0; }
.scoreboard, .badge {
    position: fixed; background: rgba(255,255,255,0.8); padding: 10px; border-radius: 10px;
    box-shadow: 0 0 5px rgba(0,0,0,0.2); font-size: 0.9em;
}
.scoreboard { top: 10px; right: 10px; text-align: right; }
.badge { top: 10px; left: 10px; }
#stone { width: 160px; margin: 100px auto 20px; transition: transform 0.1s; }
#stone img { width: 100%; border-radius: 50%; }
.message { text-align: center; background: #fff; margin: 10px auto; padding: 10px 20px;
    border-radius: 20px; width: fit-content; box-shadow: 0 0 5px rgba(0,0,0,0.1); }
</style>
</head>
<body>
<div class="scoreboard">æ’«ã§æ•°: <span id="count">0</span><br>Lv: <span id="level">1</span><br>ç§°å·: <span id="title">-</span></div>
<div class="badge" id="badge">ğŸ¯ ä»Šæ—¥ã®ç›®æ¨™ï¼š10æ’«ã§</div>
<div id="stone"><img src="stone.png" alt="çŸ³ã®ç”»åƒ"></div>
<div class="message" id="message">çŸ³ã‚’ãªã§ã¦ãã ã•ã„</div>
<audio id="sound" src="https://www.soundjay.com/button/beep-07.wav" preload="auto"></audio>
<script>
let count = 0;
let title = "-";
const countEl = document.getElementById("count");
const levelEl = document.getElementById("level");
const titleEl = document.getElementById("title");
const badge = document.getElementById("badge");
const msg = document.getElementById("message");
const sound = document.getElementById("sound");
const stone = document.getElementById("stone");

const today = new Date().toDateString();
if (localStorage.getItem("goal_" + today) === "true") {
    badge.textContent = "âœ… ä»Šæ—¥ã®ç›®æ¨™é”æˆï¼";
}

function update() {
    countEl.textContent = count;
    let lv = Math.floor(count / 10) + 1;
    levelEl.textContent = lv;

    if (count >= 100) title = "ãªã§åäºº";
    else if (count >= 50) title = "ãªã§ä¸Šæ‰‹";
    else if (count >= 10) title = "ãªã§åˆå¿ƒè€…";
    else title = "-";
    titleEl.textContent = title;

    if (count >= 10 && !localStorage.getItem("goal_" + today)) {
        localStorage.setItem("goal_" + today, "true");
        badge.textContent = "âœ… ä»Šæ—¥ã®ç›®æ¨™é”æˆï¼";
    }

    const msgs = ["ã‚‚ã£ã¨ãªã§ã¦ã€œ", "ã‚„ã•ã—ãã—ã¦ã­", "ãã®èª¿å­ï¼", "ã„ã„æ„Ÿã˜ã€œ", "ã‚ã‚ŠãŒã¨ã†ï¼"];
    msg.textContent = msgs[count % msgs.length];
}

function handleNade() {
    count++;
    update();
    sound.currentTime = 0;
    sound.play();
    stone.style.transform = "scale(1.1)";
    setTimeout(() => stone.style.transform = "scale(1)", 100);
}

stone.addEventListener("mousemove", handleNade);
stone.addEventListener("touchmove", handleNade);
</script>
</body>
</html>
